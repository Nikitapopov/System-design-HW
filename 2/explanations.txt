Как видно на графике, система была съематически спроектирована в виде микросервисов.
Сервисы общаются между собой напрямую и через брокера сообщений Kafka.
Были добавлены репликации для всех бд, там где они не показаны напрямую, это подразумевается.
Также было добавлено шардирование для всех бд, кроме графовых, так как не предполагается большая нагрузка на них.
Для чатов и постов были сформированы кэши, которые ускоряют чтение для последних N сообщений и постов.